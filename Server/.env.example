# =============================================================================
# ENVIRONMENT CONFIGURATION TEMPLATE
# =============================================================================
# üìã SETUP INSTRUCTIONS:
# 1. Copy this file: cp .env.example .env
# 2. Update values for your environment (especially JWT_SECRET!)
# 3. NEVER commit .env to version control (verify .gitignore)
# 4. Use different secrets for dev/staging/production
# 5. See docs/SECURITY.md for comprehensive security guidance

# =============================================================================
# ‚ö†Ô∏è  SECURITY WARNINGS
# =============================================================================
# üî¥ CRITICAL: Change JWT_SECRET before deploying to production
# üî¥ CRITICAL: Never commit actual secrets to version control
# üî¥ CRITICAL: Use unique secrets per environment
# üü° RECOMMENDED: Use secret management service (AWS Secrets Manager, etc.)
# üü° RECOMMENDED: Rotate secrets regularly
# üìñ See: docs/DEPLOYMENT_CHECKLIST.md for production requirements

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------
# Application environment: development, staging, production, test
# IMPORTANT: Set to 'production' in production environment
# This affects: error verbosity, bcrypt rounds, logging level
NODE_ENV=development

# Server binding
# PRODUCTION: Use 0.0.0.0 to bind to all interfaces (behind reverse proxy)
# DEVELOPMENT: Use localhost for local testing only
HOST=localhost

# Server port
# PRODUCTION: Typically use 3000, 3001, 8080, or 80/443 (with proper setup)
PORT=3001

# -----------------------------------------------------------------------------
# CORS CONFIGURATION
# -----------------------------------------------------------------------------
# Frontend application URL(s) for CORS
# SECURITY: Be specific! Never use '*' with credentials in production
# MULTIPLE ORIGINS: Use comma-separated list or configure in code
# PRODUCTION EXAMPLE: https://yourdomain.com
# DEVELOPMENT: http://localhost:3000
CORS_ORIGIN=http://localhost:3000

# -----------------------------------------------------------------------------
# üîí JWT AUTHENTICATION CONFIGURATION (CRITICAL SECURITY)
# -----------------------------------------------------------------------------
# JWT Secret Key - MOST CRITICAL SECURITY SETTING
# üî¥ NEVER use the example value in production!
# üî¥ MUST be cryptographically secure random string
# üî¥ Minimum 64 characters, 128+ recommended
# üî¥ Keep this secret! If compromised, all tokens are invalid
#
# üõ†Ô∏è Generate secure secret (run in terminal):
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# üìñ Best Practices:
# - Different secret per environment (dev/staging/prod)
# - Store in secret management service (AWS Secrets Manager, Azure Key Vault)
# - Rotate periodically (requires coordinated deployment)
# - Never log, never echo, never commit
# - Length: 128+ characters for maximum security
#
# ‚ö†Ô∏è EXAMPLE VALUE - DO NOT USE IN PRODUCTION:
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Access Token Expiration
# Short-lived token for API access
# üìñ Recommended: 15m to 1h (balance security vs. user experience)
# Security: Shorter = more secure, but more frequent refreshes
# Format: 15m, 30m, 1h, 2h
# PRODUCTION: 15m is recommended
JWT_EXPIRES_IN=15m

# Refresh Token Expiration
# Long-lived token for obtaining new access tokens
# üìñ Recommended: 7d to 30d
# Security: Longer = more convenient, but higher risk if stolen
# Format: 7d, 14d, 30d, 90d
# PRODUCTION: 7d to 14d is recommended
# ‚ö†Ô∏è NOTE: Refresh tokens stored in memory (see SECURITY.md)
JWT_REFRESH_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# üö¶ RATE LIMITING CONFIGURATION
# -----------------------------------------------------------------------------
# Rate limit window in milliseconds
# Default: 900000 (15 minutes)
# üìñ This is the time window for counting requests per IP
# Security: Shorter windows = stricter limiting but more memory usage
# Examples: 60000 (1min), 300000 (5min), 900000 (15min), 3600000 (1hr)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window per IP
# Default: 100 for general endpoints
# üìñ Specific endpoints have stricter limits:
#    - Login: 10 per 15min (prevents brute force)
#    - Register: 5 per 15min (prevents mass account creation)
#    - Password Change: 5 per 15min (prevents abuse)
#    - Token Refresh: 20 per 15min (allows normal usage)
# PRODUCTION: Consider lowering for stricter security
# DEVELOPMENT: Can increase for testing convenience
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# üìä LOGGING CONFIGURATION
# -----------------------------------------------------------------------------
# Log Level - Controls verbosity of logs
# Options: error, warn, info, http, verbose, debug, silly
# PRODUCTION: Use 'info' or 'warn' (avoid debug/verbose)
# DEVELOPMENT: Use 'debug' for detailed troubleshooting
# STAGING: Use 'info' to match production
# üîí Security: Never use 'debug' or 'silly' in production (may leak sensitive data)
LOG_LEVEL=info

# Log Format - Controls log output format
# Options: dev, combined, common, short, tiny
# PRODUCTION: Use 'combined' for detailed logs
# DEVELOPMENT: Use 'dev' for readable colored output
LOG_FORMAT=combined

# File Logging - Whether to write logs to files
# PRODUCTION: true (required for audit and debugging)
# DEVELOPMENT: false (console output is sufficient)
# üìñ Logs written to: logs/app.log
# ‚ö†Ô∏è Ensure log rotation is configured in production!
ENABLE_FILE_LOGGING=false

# -----------------------------------------------------------------------------
# üåê API CONFIGURATION
# -----------------------------------------------------------------------------
# API Version - Displayed in API info endpoint
API_VERSION=1.0.0

# -----------------------------------------------------------------------------
# üíæ DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# Database Type - Which database adapter to use
# Options: memory, mongodb, mysql, postgresql, sqlite
# DEVELOPMENT: 'memory' is fine for testing (data lost on restart)
# PRODUCTION: Use persistent database (postgresql recommended)
# üî¥ CRITICAL: NEVER use 'memory' in production!
DB_TYPE=memory

# Database Connection Details (for SQL databases)
# Uncomment and configure based on your database choice
# üîí Security: Use environment-specific databases (dev/staging/prod)
# üîí Security: Use strong passwords (20+ characters, random)
# üîí Security: Use read-only user for read operations where possible
# üîí Security: Use limited-privilege user (no DROP/CREATE)
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=launchpad_dev
# DB_USER=launchpad_app_user
# DB_PASSWORD=change-this-strong-password-in-production

# Alternative: Full Connection String
# Easier to manage, especially with managed database services
# PRODUCTION: Use connection string from cloud provider
# üîí Security: Enable SSL/TLS encryption for production
# PostgreSQL example:
# DB_CONNECTION_STRING=postgresql://username:password@localhost:5432/launchpad_dev?sslmode=require
# MongoDB example:
# DB_CONNECTION_STRING=mongodb+srv://username:password@cluster.mongodb.net/launchpad_dev?retryWrites=true&w=majority

# SQLite Configuration (for simple deployments)
# üìñ Good for: Small apps, development, testing
# ‚ö†Ô∏è Not recommended for: High traffic, multi-server deployments
# DB_FILENAME=./data/database.sqlite

# Database Connection Pool Settings
# PRODUCTION: Tune based on your traffic and server resources
# üìñ Recommended: 10-50 connections per server instance
# Higher = more concurrent queries, but more memory usage
DB_CONNECTION_LIMIT=10

# Database SSL/TLS (for production databases)
# PRODUCTION: Always use SSL/TLS for encrypted connections
# DB_SSL=true

# Database Query Timeout (milliseconds)
# Prevents long-running queries from blocking resources
# DB_TIMEOUT=30000

# -----------------------------------------------------------------------------
# üî¥ REDIS CONFIGURATION (REQUIRED FOR PRODUCTION)
# -----------------------------------------------------------------------------
# Redis is REQUIRED for production token storage
# ‚ö†Ô∏è Currently using in-memory storage (not production-ready)
# üìñ See: SECURITY.md section 1 for implementation details
#
# Redis Connection URL
# Format: redis://[username]:[password]@[host]:[port]
# PRODUCTION: Use managed Redis service (AWS ElastiCache, Redis Cloud)
# üîí Security: Use password authentication
# üîí Security: Enable TLS/SSL encryption
# REDIS_URL=redis://default:your-redis-password@localhost:6379
# REDIS_URL=rediss://default:password@redis-cluster.cloud.com:6380

# Redis Password (if not in URL)
# REDIS_PASSWORD=your-secure-redis-password

# Redis TLS/SSL
# PRODUCTION: Always use TLS for encrypted connections
# REDIS_TLS=true

# Redis Key Prefix (optional)
# Useful for multiple apps sharing same Redis instance
# REDIS_KEY_PREFIX=launchpad:

# -----------------------------------------------------------------------------
# üìß EMAIL CONFIGURATION (REQUIRED FOR PRODUCTION)
# -----------------------------------------------------------------------------
# Email service is needed for:
# - Email verification (not yet implemented, see SECURITY.md)
# - Password reset (not yet implemented, see SECURITY.md)
# - Security alerts (recommended)
# - Account lockout notifications (recommended)
#
# Email Service Provider
# Options: sendgrid, ses (AWS), mailgun, smtp
# PRODUCTION: Use transactional email service (not personal Gmail)
# EMAIL_SERVICE=sendgrid

# SendGrid Configuration (recommended)
# Get API key from: https://app.sendgrid.com/settings/api_keys
# SENDGRID_API_KEY=SG.your-api-key-here
# EMAIL_FROM=noreply@yourdomain.com
# EMAIL_FROM_NAME=LaunchPad App

# AWS SES Configuration
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# EMAIL_FROM=noreply@yourdomain.com

# SMTP Configuration (generic)
# Can be used with Gmail (app passwords), Office365, custom SMTP
# üîí Security: Use app-specific passwords, not account passwords
# üîí Security: Always use TLS/SSL (port 587 or 465)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=true
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-specific-password
# EMAIL_FROM=noreply@yourdomain.com

# -----------------------------------------------------------------------------
# üõ°Ô∏è ADDITIONAL SECURITY CONFIGURATION
# -----------------------------------------------------------------------------
# These are optional but recommended for production

# Account Lockout Settings (future implementation)
# Number of failed login attempts before account lockout
# MAX_LOGIN_ATTEMPTS=5
# Lockout duration in minutes
# LOCKOUT_DURATION=30

# Session Configuration
# Session secret (different from JWT secret)
# SESSION_SECRET=another-secure-random-string-for-sessions

# Password Reset Token Expiry (future implementation)
# How long password reset tokens are valid
# RESET_TOKEN_EXPIRY=3600000  # 1 hour in milliseconds

# Email Verification Token Expiry (future implementation)
# How long email verification tokens are valid
# VERIFICATION_TOKEN_EXPIRY=86400000  # 24 hours in milliseconds

# -----------------------------------------------------------------------------
# üîß OPERATIONAL CONFIGURATION
# -----------------------------------------------------------------------------
# Maintenance Mode
# Can be controlled via API, but can also be set here as default
# MAINTENANCE_MODE=false
# MAINTENANCE_MESSAGE=We are currently performing scheduled maintenance

# Feature Flags
# Enable/disable features without code changes
# ENABLE_USER_REGISTRATION=true
# ENABLE_PASSWORD_RESET=false
# ENABLE_EMAIL_VERIFICATION=false

# -----------------------------------------------------------------------------
# üìä MONITORING & OBSERVABILITY (for production)
# -----------------------------------------------------------------------------
# Application Performance Monitoring
# APM_SERVICE_NAME=launchpad-server
# APM_ENVIRONMENT=production

# Sentry Error Tracking
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=production
# SENTRY_TRACES_SAMPLE_RATE=0.1

# AWS CloudWatch (if using AWS)
# AWS_CLOUDWATCH_LOG_GROUP=/aws/launchpad/server
# AWS_CLOUDWATCH_LOG_STREAM=production

# -----------------------------------------------------------------------------
# üìù DEVELOPMENT HELPERS (for development only)
# -----------------------------------------------------------------------------
# These should NOT be set in production

# Enable debug mode (verbose logging, detailed errors)
# ‚ö†Ô∏è NEVER enable in production - security risk!
# DEBUG=false

# Bypass rate limiting (for testing)
# ‚ö†Ô∏è NEVER enable in production - security risk!
# DISABLE_RATE_LIMITING=false

# Bypass authentication (for testing)
# ‚ö†Ô∏è NEVER enable in production - critical security risk!
# DISABLE_AUTH=false

# -----------------------------------------------------------------------------
# üéØ QUICK START CHECKLIST
# -----------------------------------------------------------------------------
# Before running the application:
# ‚úÖ Copy this file to .env
# ‚úÖ Generate and set JWT_SECRET (see command above)
# ‚úÖ Set NODE_ENV appropriately
# ‚úÖ Configure database connection (or use memory for dev)
# ‚úÖ Set CORS_ORIGIN to your frontend URL
# ‚úÖ Review and adjust rate limits if needed
#
# Before deploying to production (CRITICAL):
# üî¥ Set NODE_ENV=production
# üî¥ Generate new secure JWT_SECRET (128+ characters)
# üî¥ Configure production database (never use memory!)
# üî¥ Set up Redis for token storage
# üî¥ Configure email service
# üî¥ Enable SSL/TLS everywhere (database, Redis, email)
# üî¥ Set CORS_ORIGIN to production domain
# üî¥ Enable file logging (ENABLE_FILE_LOGGING=true)
# üî¥ Review all security settings
# üìñ See: docs/DEPLOYMENT_CHECKLIST.md for complete list

# -----------------------------------------------------------------------------
# üìö ADDITIONAL RESOURCES
# -----------------------------------------------------------------------------
# - SECURITY.md: Comprehensive security documentation
# - docs/DEPLOYMENT_CHECKLIST.md: Production deployment guide
# - docs/SECURITY_BEST_PRACTICES.md: Developer security guidelines
# - README.md: Application setup and overview
